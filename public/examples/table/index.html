<!DOCTYPE html>
<html lang="en-us">
<head>
  <title>neco-components</title>
  <script type="importmap">
    {
      "imports": {
        "neco-components/": "../../scripts/neco-components/"
      }
    }
  </script>
  <script type="module" >
    import "neco-components/header.js"
    import "neco-components/table.js"
    import "neco-components/footer.js"
  </script>
  <style>

    body{
      width: 100vw;
      height: 100vh;
      font-family:  san-serif;
      padding: 0;
      margin: 0;
      display: flex;
      flex-flow: column nowrap;
      overflow: hidden;
      background: #000066;
      display:grid;
      grid-template-rows: 50px 1fr 30px;
      grid-template-columns: 300px 1fr;
    }
    neco-header{
      grid-row: 1/2;
      grid-column: 1/3;
    }
    neco-table{
      grid-row: 2/3;
      grid-column: 2/3;
    }
    neco-footer{
      grid-row: 3/4;
      grid-column: 1/3;
    }
  </style>
</head>
<body>
  <neco-header
    data-title='table'
    data-color='#FFFF66'
  ></neco-header>


  <neco-table
    data-width ='["100px","50px","50px"]'
    data-height='["40px", "40px","40px"]'
    data-vertical-line='false'
    data-horizontal-line='true'
  >
  <!--
    data-odd-background='#f0f0f0'
    data-even-background='white'
    data-header-background='gray'
    -->
    <template> 
      <style>
        caption,
        table tr{
          font-size: 16pt;
          color: white;
        }

        table thead th{
          border-bottom: 3px double white;
          border-top: 3px double white;
        }
        table td{
          text-align:center;
        }
      </style>
      <table>
        <caption>Table BMI CALC 2</caption>
        <thead>
          <tr>
            <th>item</th> <th>value</th> <th>unit</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>height</td> <td><input name="height"></td> <td>[cm]</td>
          </tr>
          <tr>
            <td>weight</td> <td><input name="weight"></td> <td>[kg]</td>
          </tr>
          <tr>
            <td>BMI</td> <td><output name="BMI"></td> <td>[-]</td>
          </tr>
        </tbody>
      </table>
    </template> 
  </neco-table>

  <neco-footer
    data-title='table'
    data-version='1.0.0'
    data-auther='neco-components'
    data-date-of-issue='2024'
    data-color='white'
  ></neco-footer>


  <script type="module">
    const table = document.querySelector("neco-table")
    table.onchange=(e)=>{
      const weight = Number(e.range.weight.value)
      const height = Number(e.cell[1][1].value)/100
      const BMItmp = weight/height**2
      const BMI = Math.round(BMItmp*10)/10
      e.range.BMI.value = BMI 
    }
  </script>
</body>
</html>
